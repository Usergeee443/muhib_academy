<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Muhib Academy - Din va Dunyo Ilmi</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<!-- Font Awesome 6.5.0 Free CDN -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
		integrity="sha512-...yada-yada..." crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="shortcut icon" href="./Untitled-1.png" type="image/x-icon">

	<script>
		tailwind.config = {
			theme: {
				extend: {
					colors: {
						primary: '#00D084',
						secondary: '#00B572',
						accent: '#FFD700',
						dark: '#1A1A1A',
						lightGray: '#F8F9FA'
					},
					fontFamily: {
						'arabic': ['Noto Naskh Arabic', 'serif'],
						'uzbek': ['Inter', 'sans-serif']
					}
				}
			}
		}
	</script>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
		rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap"
		rel="stylesheet">
	<style>
		.gradient-bg {
			background: linear-gradient(135deg, #00D084 0%, #00B572 50%, #009F63 100%);
		}

		.hero-pattern {
			background-image: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
				radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
		}

		.card-hover {
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		}

		.card-hover:hover {
			transform: translateY(-12px) scale(1.02);
			box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
		}

		.animate-float {
			animation: float 6s ease-in-out infinite;
		}

		@keyframes float {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-20px);
			}
		}

		.animate-pulse-slow {
			animation: pulse-slow 3s ease-in-out infinite;
		}

		@keyframes pulse-slow {
			0%, 100% {
				opacity: 1;
			}
			50% {
				opacity: 0.7;
			}
		}

		.modal {
			display: none;
			position: fixed;
			z-index: 1000;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.8);
			backdrop-filter: blur(10px);
		}

		.modal.show {
			display: flex;
			align-items: center;
			justify-content: center;
			animation: modalFadeIn 0.3s ease-out;
		}

		@keyframes modalFadeIn {
			from {
				opacity: 0;
			}
			to {
				opacity: 1;
			}
		}

		.modal-content {
			background: white;
			border-radius: 24px;
			max-width: 95vw;
			max-height: 90vh;
			overflow-y: auto;
			transform: scale(0.7);
			transition: transform 0.3s ease-out;
		}

		.modal.show .modal-content {
			transform: scale(1);
		}

		.glass-effect {
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.2);
		}

		.text-gradient {
			background: linear-gradient(135deg, #00D084, #00B572);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.bounce-in {
			animation: bounceIn 0.6s ease-out;
		}

		@keyframes bounceIn {
			0% {
				transform: scale(0.3);
				opacity: 0;
			}
			50% {
				transform: scale(1.05);
			}
			70% {
				transform: scale(0.9);
			}
			100% {
				transform: scale(1);
				opacity: 1;
			}
		}

		.slide-up {
			animation: slideUp 0.8s ease-out;
		}

		@keyframes slideUp {
			from {
				transform: translateY(50px);
				opacity: 0;
			}
			to {
				transform: translateY(0);
				opacity: 1;
			}
		}

		/* Custom scrollbar */
		.modal-content::-webkit-scrollbar {
			width: 8px;
		}

		.modal-content::-webkit-scrollbar-track {
			background: #f1f1f1;
			border-radius: 10px;
		}

		.modal-content::-webkit-scrollbar-thumb {
			background: #00D084;
			border-radius: 10px;
		}

		.modal-content::-webkit-scrollbar-thumb:hover {
			background: #00B572;
		}

		.section-divider {
			background: linear-gradient(90deg, transparent, #00D084, transparent);
			height: 2px;
			margin: 2rem 0;
		}

        .text-gradient {
			background: linear-gradient(135deg, #10b981, #059669);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.icon-location {
			color: #ef4444;
		}

		.icon-phone {
			color: #3b82f6;
		}

		.icon-email {
			color: #f59e0b;
		}

		.icon-telegram {
			color: #0088cc;
		}

		.social-icon:hover {
			transform: translateY(-2px);
			transition: all 0.3s ease;
		}

        /* Custom animations */
		@keyframes float {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-10px);
			}
		}

		.float-animation {
			animation: float 3s ease-in-out infinite;
		}

		/* Hover effects */
		.hover-scale:hover {
			transform: scale(1.05);
		}

		/* Focus states */
		input:focus,
		select:focus,
		textarea:focus {
			box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
		}

        .container {
            position: relative;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 100vh;
            padding: 0 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .left-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding-right: 50px;
        }

		/* Qur'an level styles */
		.level-option {
			border: 2px solid #e2e8f0;
			border-radius: 12px;
			padding: 16px;
			margin-bottom: 12px;
			cursor: pointer;
			transition: all 0.3s ease;
			background: white;
		}

		.level-option:hover {
			border-color: #00D084;
			box-shadow: 0 4px 12px rgba(0, 208, 132, 0.1);
		}

		.level-option.selected {
			border-color: #00D084;
			background: linear-gradient(135deg, rgba(0, 208, 132, 0.1), rgba(0, 181, 114, 0.05));
		}

		.level-number {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 28px;
			height: 28px;
			border-radius: 50%;
			background: #00D084;
			color: white;
			font-weight: bold;
			margin-right: 12px;
			font-size: 14px;
		}

		.level-option.selected .level-number {
			background: #00B572;
		}

		.level-text {
			flex: 1;
		}

		.level-title {
			font-weight: 600;
			color: #1a202c;
			margin-bottom: 4px;
		}

		.level-description {
			font-size: 14px;
			color: #718096;
			line-height: 1.4;
		}

		* {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #00D084 0%, #009F63 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Desktop background image */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-image: url('Artboard 1.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 1;
            opacity: 0.3;
        }

        /* Mobile background - different image */
        @media (max-width: 1024px) {
            .background-overlay {
                background-image: url('Artboard 1.png');
                opacity: 0.25;
            }
        }
	</style>
</head>
<body class="bg-lightGray font-uzbek">
    <!-- Navigation -->
	<nav class="bg-white/95 backdrop-blur-md shadow-xl sticky top-0 z-50 border-b border-primary/10">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex justify-between items-center h-20">
				<div class="flex items-center">
					<a href="./index.html">
						<img src="static/images/MuhibAcademyLogo.png" alt="Muhib Academy Logo" class="h-12" />
					</a>
				</div>

				<!-- Desktop Menu -->
				<div class="hidden md:block">
					<div class="ml-10 flex items-center space-x-6">
						<a href="/"
							class="text-gray-700 hover:text-primary px-4 py-2 rounded-xl font-medium transition duration-300 hover:bg-primary/5">Bosh
							sahifa</a>
					</div>
				</div>

				<!-- Mobile Menu Button -->
				<div class="md:hidden">
					<button id="mobile-menu-button" class="text-gray-700 hover:text-primary focus:outline-none">
						<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
								d="M4 6h16M4 12h16M4 18h16"></path>
						</svg>
					</button>
				</div>
			</div>
		</div>

		<!-- Mobile Menu -->
		<div id="mobile-menu"
			class="md:hidden hidden bg-white/98 backdrop-blur-lg border-t border-primary/10 shadow-2xl">
			<div class="px-4 pt-4 pb-6 space-y-3">
				<a href="#carousel"
					class="block text-gray-700 hover:text-primary px-4 py-3 rounded-xl font-medium transition duration-300 hover:bg-primary/5 border border-transparent hover:border-primary/20">
					Bosh sahifa
				</a>
				<a href="#courses"
					class="block text-gray-700 hover:text-primary px-4 py-3 rounded-xl font-medium transition duration-300 hover:bg-primary/5 border border-transparent hover:border-primary/20">
					Kurslar
				</a>
				<a href="#biz-haqimizda"
					class="block text-gray-700 hover:text-primary px-4 py-3 rounded-xl font-medium transition duration-300 hover:bg-primary/5 border border-transparent hover:border-primary/20">
					Biz Haqimizda
				</a>
				<button onclick="scrollToForm()"
					class="w-full bg-gradient-to-r from-primary to-secondary text-white px-6 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition duration-300 mt-4">
					Kurs sotib olish
				</button>
			</div>
		</div>
	</nav>

    <!-- Courses Section -->
    <section id="courses" class="py-16 bg-white">
        <div class=" mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary">Bizning Kurslarimiz</h2>
            
            <div id="courses-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Kurslar JavaScript orqali yuklanadi -->
            </div>
        </div>
    </section>

	<!-- Registration Modal -->
	<div id="registrationModal" class="modal">
		<div class="modal-content w-full max-w-2xl p-8 bg-white rounded-3xl shadow-2xl">
			<!-- Modal Header -->
			<div class="flex justify-between items-center mb-8">
				<h3 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
					<span class="p-2 bg-primary/10 rounded-full">
						<svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
						</svg>
					</span>
					Kursga Yozilish
				</h3>
				<button onclick="closeRegistrationModal()" class="p-2 hover:bg-gray-100 rounded-full transition-colors">
					<svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
					</svg>
				</button>
			</div>

			<!-- Form -->
			<form id="registrationForm" class="space-y-6">
				<input type="hidden" id="regCourseId" name="course_id">

				<!-- Personal Information -->
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					<div>
						<label class="block text-sm font-semibold text-gray-700 mb-2">Ismingiz *</label>
						<input type="text" id="regName" name="ism" required
							class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
					</div>
					<div>
						<label class="block text-sm font-semibold text-gray-700 mb-2">Telefon raqamingiz *</label>
						<input type="tel" id="regPhone" name="telefon" required placeholder="+998 90 123 45 67"
							class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
					</div>
				</div>

				<!-- Qur'an Reading Level -->
				<div>
					<label class="block text-sm font-semibold text-gray-700 mb-4">
						📊 Qur'on o'qish darajangiz *
					</label>
					<div id="quranLevels" class="space-y-3">
						<div class="level-option" data-value="1">
							<div class="flex items-start">
								<span class="level-number">1</span>
								<div class="level-text">
									<div class="level-title">Bilmayman</div>
									<div class="level-description">Arab harflarini ham tanimayman</div>
								</div>
							</div>
						</div>
						<div class="level-option" data-value="2">
							<div class="flex items-start">
								<span class="level-number">2</span>
								<div class="level-text">
									<div class="level-title">Harflarni taniyman</div>
									<div class="level-description">Harflarni bilaman, lekin ulab o'qiy olmayman</div>
								</div>
							</div>
						</div>
						<div class="level-option" data-value="3">
							<div class="flex items-start">
								<span class="level-number">3</span>
								<div class="level-text">
									<div class="level-title">O'qiyman, qiynalaman</div>
									<div class="level-description">So'zlarni ulayman, lekin suralarda ko'p adashaman</div>
								</div>
							</div>
						</div>
						<div class="level-option" data-value="4">
							<div class="flex items-start">
								<span class="level-number">4</span>
								<div class="level-text">
									<div class="level-title">O'qiyman, xatolarim bor</div>
									<div class="level-description">Suralarni o'qiyman, lekin tajvid va talaffuzda xato qilaman</div>
								</div>
							</div>
						</div>
						<div class="level-option" data-value="5">
							<div class="flex items-start">
								<span class="level-number">5</span>
								<div class="level-text">
									<div class="level-title">To'g'ri o'qiy olaman</div>
									<div class="level-description">Ustoz kerak, yod olish uchun</div>
								</div>
							</div>
						</div>
					</div>
					<input type="hidden" id="regQuranLevel" name="quran_level" required>
				</div>

				<!-- Submit Button -->
				<div class="pt-4">
					<button type="submit" 
						class="w-full bg-gradient-to-r from-primary to-secondary text-white py-4 px-8 rounded-xl font-semibold text-lg hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300">
						<span class="flex items-center justify-center gap-2">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
							</svg>
							Ro'yxatdan O'tish
						</span>
					</button>
				</div>
			</form>
		</div>
	</div>

    <!-- Minimalistic Footer -->
	<footer class="bg-white py-12 border-t border-gray-100">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<!-- Main Footer Content -->
			<div class="text-center mb-8">
				<!-- Brand -->
				<div class="mb-6">
					<img src="static/images/MuhibAcademyLogo.png" alt="MUHIB ACADEMY Logo" class="h-12 w-auto mx-auto block">
				</div>

				<!-- Tagline -->
				<p class="text-gray-600 mb-8 max-w-md mx-auto">
					Muhib academy – Ilm, tarbiya va e'tiqod uygʻunligidagi makon!
				</p>

				<!-- Contact Icons -->
				<div class="flex justify-center space-x-6 mb-6">
					<a href="">
						<div class="flex items-center space-x-2 social-icon cursor-pointer">
							<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="100"
								viewBox="0 0 48 48">
								<radialGradient id="yOrnnhliCrdS2gy~4tD8ma_Xy10Jcu1L2Su_gr1" cx="19.38" cy="42.035"
									r="44.899" gradientUnits="userSpaceOnUse">
									<stop offset="0" stop-color="#fd5"></stop>
									<stop offset=".328" stop-color="#ff543f"></stop>
									<stop offset=".348" stop-color="#fc5245"></stop>
									<stop offset=".504" stop-color="#e64771"></stop>
									<stop offset=".643" stop-color="#d53e91"></stop>
									<stop offset=".761" stop-color="#cc39a4"></stop>
									<stop offset=".841" stop-color="#c837ab"></stop>
								</radialGradient>
								<path fill="url(#yOrnnhliCrdS2gy~4tD8ma_Xy10Jcu1L2Su_gr1)"
									d="M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20	c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20	C42.014,38.383,38.417,41.986,34.017,41.99z">
								</path>
								<radialGradient id="yOrnnhliCrdS2gy~4tD8mb_Xy10Jcu1L2Su_gr2" cx="11.786" cy="5.54"
									r="29.813" gradientTransform="matrix(1 0 0 .6663 0 1.849)"
									gradientUnits="userSpaceOnUse">
									<stop offset="0" stop-color="#4168c9"></stop>
									<stop offset=".999" stop-color="#4168c9" stop-opacity="0"></stop>
								</radialGradient>
								<path fill="url(#yOrnnhliCrdS2gy~4tD8mb_Xy10Jcu1L2Su_gr2)"
									d="M34.017,41.99l-20,0.019c-4.4,0.004-8.003-3.592-8.008-7.992l-0.019-20	c-0.004-4.4,3.592-8.003,7.992-8.008l20-0.019c4.4-0.004,8.003,3.592,8.008,7.992l0.019,20	C42.014,38.383,38.417,41.986,34.017,41.99z">
								</path>
								<path fill="#fff"
									d="M24,31c-3.859,0-7-3.14-7-7s3.141-7,7-7s7,3.14,7,7S27.859,31,24,31z M24,19c-2.757,0-5,2.243-5,5	s2.243,5,5,5s5-2.243,5-5S26.757,19,24,19z">
								</path>
								<circle cx="31.5" cy="16.5" r="1.5" fill="#fff"></circle>
								<path fill="#fff"
									d="M30,37H18c-3.859,0-7-3.14-7-7V18c0-3.86,3.141-7,7-7h12c3.859,0,7,3.14,7,7v12	C37,33.86,33.859,37,30,37z M18,13c-2.757,0-5,2.243-5,5v12c0,2.757,2.243,5,5,5h12c2.757,0,5-2.243,5-5V18c0-2.757-2.243-5-5-5H18z">
								</path>
							</svg>
							<span class="text-gray-700 text-sm hidden sm:inline">Instagram</span>
						</div>
					</a>

					<div class="flex items-center space-x-2 social-icon cursor-pointer">
						<svg class="w-5 h-5 icon-phone" fill="currentColor" viewBox="0 0 20 20">
							<path
								d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
						</svg>
						<span class="text-gray-700 text-sm hidden sm:inline">+998 90 123
							45 67</span>
					</div>

					<div class="flex items-center space-x-2 social-icon cursor-pointer">
						<svg class="w-5 h-5 icon-email" fill="currentColor" viewBox="0 0 20 20">
							<path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
							<path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
						</svg>
						<span class="text-gray-700 text-sm hidden sm:inline">info@academy.com</span>
					</div>
					<a href="https://t.me/muhibacademyuz">

						<div class="flex items-center space-x-2 social-icon cursor-pointer">
							<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="100"
								viewBox="0 0 48 48">
								<path fill="#29b6f6" d="M24,4C13,4,4,13,4,24s9,20,20,20s20-9,20-20S35,4,24,4z"></path>
								<path fill="#fff"
									d="M34,15l-3.7,19.1c0,0-0.2,0.9-1.2,0.9c-0.6,0-0.9-0.3-0.9-0.3L20,28l-4-2l-5.1-1.4c0,0-0.9-0.3-0.9-1	c0-0.6,0.9-0.9,0.9-0.9l21.3-8.5c0,0,0.7-0.2,1.1-0.2c0.3,0,0.6,0.1,0.6,0.5C34,14.8,34,15,34,15z">
								</path>
								<path fill="#b0bec5"
									d="M23,30.5l-3.4,3.4c0,0-0.1,0.1-0.3,0.1c-0.1,0-0.1,0-0.2,0l1-6L23,30.5z"></path>
								<path fill="#cfd8dc"
									d="M29.9,18.2c-0.2-0.2-0.5-0.3-0.7-0.1L16,26c0,0,2.1,5.9,2.4,6.9c0.3,1,0.6,1,0.6,1l1-6l9.8-9.1	C30,18.7,30.1,18.4,29.9,18.2z">
								</path>
							</svg>
							<span class="text-gray-700 text-sm hidden sm:inline">Telegram</span>
						</div>
					</a>
				</div>

				<!-- Copyright -->
				<div class="border-t border-gray-100 pt-6 text-center">
					<p class="text-gray-500 text-sm">&copy; <span id="copyright-year">2025</span> MUHIB ACADEMY. Barcha
						huquqlar himoyalangan.</p>
				</div>
			</div>
	</footer>

    <script>
        let courses = [];
        let currentFilter = 'all';
        let selectedQuranLevel = null;

        // Sahifa yuklanganda kurslarni yuklash
        document.addEventListener('DOMContentLoaded', function() {
            loadCourses();
            initializeQuranLevelSelection();
        });

        // Qur'an daraja tanlash funksiyasi
        function initializeQuranLevelSelection() {
            const levelOptions = document.querySelectorAll('.level-option');
            const hiddenInput = document.getElementById('regQuranLevel');

            levelOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Barcha tanlovlarni tozalash
                    levelOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Joriy tanlovni belgilash
                    this.classList.add('selected');
                    
                    // Qiymatni saqlash
                    selectedQuranLevel = this.dataset.value;
                    hiddenInput.value = selectedQuranLevel;
                });
            });
        }

        // Kurslarni serverdan yuklash
        async function loadCourses() {
            try {
                const response = await fetch('/api/courses');
                courses = await response.json();
                displayCourses();
            } catch (error) {
                console.error('Kurslarni yuklashda xato:', error);
                // Demo ma'lumotlar
                courses = [
                    {
                        id: 1,
                        nom: "Qur'on o'qish asoslari",
                        davomiyligi: "3 oy",
                        darslar_soni: 24,
                        narx: 150000,
                        kategoriya: "Online",
                        rasm_url: "/static/default-course.jpg"
                    },
                    {
                        id: 2,
                        nom: "Tajvid darslari",
                        davomiyligi: "6 oy", 
                        darslar_soni: 48,
                        narx: 300000,
                        kategoriya: "Offline",
                        rasm_url: "/static/default-course.jpg"
                    },
                    {
                        id: 3,
                        nom: "Arabic tilini o'rganish",
                        davomiyligi: "12 oy",
                        darslar_soni: 96,
                        narx: 500000,
                        kategoriya: "Hybrid",
                        rasm_url: "/static/default-course.jpg"
                    }
                ];
                displayCourses();
            }
        }

        // Kurslarni filtirlash
        function filterCourses(kategoriya) {
            currentFilter = kategoriya;
            
            // Filter tugmalarini yangilash
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-primary', 'text-white');
                btn.classList.add('text-gray-600', 'hover:text-primary');
            });
            
            event.target.classList.remove('text-gray-600', 'hover:text-primary');
            event.target.classList.add('active', 'bg-primary', 'text-white');
            
            displayCourses();
        }

        // Kurslarni sahifada ko'rsatish
        function displayCourses() {
            const container = document.getElementById('courses-container');
            container.innerHTML = '';

            let filteredCourses = courses;
            
            if (currentFilter !== 'all') {
                filteredCourses = courses.filter(course => course.kategoriya === currentFilter);
            }

            filteredCourses.forEach(course => {
                const courseCard = `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition duration-300 card-hover">
                        <img src="${course.rasm_url || '/static/default-course.jpg'}" alt="${course.nom}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-xl font-bold text-primary">${course.nom}</h3>
                                <span class="bg-${getCategoryColor(course.kategoriya)}-100 text-${getCategoryColor(course.kategoriya)}-800 text-xs font-medium px-2.5 py-0.5 rounded-full">
                                    ${course.kategoriya}
                                </span>
                            </div>
                            <div class="space-y-2 text-gray-600 mb-4">
                                <p class="flex items-center gap-2">
                                    <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    <span class="font-semibold">Davomiyligi:</span> ${course.davomiyligi}
                                </p>
                                <p class="flex items-center gap-2">
                                    <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                    </svg>
                                    <span class="font-semibold">Darslar soni:</span> ${course.darslar_soni} ta
                                </p>
                                <p class="flex items-center gap-2">
                                    <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                    </svg>
                                    <span class="text-2xl font-bold text-primary">${course.narx.toLocaleString()} so'm</span>
                                </p>
                            </div>
                            <div class="space-y-3">
                                
								<a href="/course/${course.id}" class="block w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300 text-center">
                                    Batafsil Ko'rish
                                </a>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += courseCard;
            });
            
            if (filteredCourses.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center py-12"><div class="text-gray-500 text-lg">Hozircha bu kategoriyada kurslar yo\'q</div></div>';
            }
        }

        // Kategoriya rangini aniqlash
        function getCategoryColor(category) {
            switch(category) {
                case 'Online': return 'green';
                case 'Offline': return 'blue';
                case 'Hybrid': return 'purple';
                case 'Intensiv': return 'orange';
                default: return 'gray';
            }
        }

        // Ro'yxatdan o'tish modalini ochish
        function openRegistrationModal(courseId, courseName) {
            document.getElementById('registrationModal').classList.add('show');
            document.getElementById('registrationModal').style.display = 'flex';
            document.getElementById('regCourseId').value = courseId;
            
            // Reset form va daraja tanlovi
            document.getElementById('registrationForm').reset();
            document.querySelectorAll('.level-option').forEach(opt => opt.classList.remove('selected'));
            selectedQuranLevel = null;
            document.getElementById('regQuranLevel').value = '';
            
            // Modal headerga kurs nomini qo'shish
            const modalTitle = document.querySelector('#registrationModal h3');
            modalTitle.innerHTML = `
                <span class="p-2 bg-primary/10 rounded-full">
                    <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                </span>
                "${courseName}" kursiga yozilish
            `;
        }

        // Ro'yxatdan o'tish modalini yopish
        function closeRegistrationModal() {
            document.getElementById('registrationModal').classList.remove('show');
            setTimeout(() => {
                document.getElementById('registrationModal').style.display = 'none';
            }, 300);
        }

        // Ro'yxatdan o'tish formasi
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Qur'an daraja tanlanganini tekshirish
            if (!selectedQuranLevel) {
                alert('Iltimos, Qur\'on o\'qish darajangizni tanlang!');
                return;
            }
            
            const formData = {
                ism: document.getElementById('regName').value,
                telefon: document.getElementById('regPhone').value,
                kurs_id: document.getElementById('regCourseId').value,
                quran_level: selectedQuranLevel
            };
            
            try {
                const response = await fetch('/api/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Success animation
                    const submitBtn = document.querySelector('#registrationForm button[type="submit"]');
                    submitBtn.innerHTML = `
                        <span class="flex items-center justify-center gap-2">
                            <svg class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            Yuborilmoqda...
                        </span>
                    `;
                    
                    setTimeout(() => {
                        submitBtn.innerHTML = `
                            <span class="flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                Muvaffaqiyatli!
                            </span>
                        `;
                        submitBtn.classList.add('bg-green-500');
                        
                        setTimeout(() => {
                            alert('Muvaffaqiyatli ro\'yxatdan o\'tdingiz! Tez orada siz bilan bog\'lanamiz.');
                            closeRegistrationModal();
                            
                            // Reset button
                            submitBtn.innerHTML = `
                                <span class="flex items-center justify-center gap-2">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    Ro'yxatdan O'tish
                                </span>
                            `;
                            submitBtn.classList.remove('bg-green-500');
                        }, 1000);
                    }, 1000);
                } else {
                    alert('Xato: ' + result.error);
                }
            } catch (error) {
                alert('Ro\'yxatdan o\'tishda xato yuz berdi');
                console.error('Ro\'yxatdan o\'tishda xato:', error);
            }
        });

        // Telefon raqam formatlash
        document.getElementById('regPhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (value.startsWith('998')) {
                value = value.substring(3);
            }
            
            if (value.length > 0) {
                if (value.length <= 2) {
                    value = '+998 ' + value;
                } else if (value.length <= 5) {
                    value = '+998 ' + value.substring(0, 2) + ' ' + value.substring(2);
                } else if (value.length <= 8) {
                    value = '+998 ' + value.substring(0, 2) + ' ' + value.substring(2, 5) + ' ' + value.substring(5);
                } else {
                    value = '+998 ' + value.substring(0, 2) + ' ' + value.substring(2, 5) + ' ' + value.substring(5, 7) + ' ' + value.substring(7, 9);
                }
            }
            
            e.target.value = value;
        });

        // Modal tashqarisiga bosganda yopish
        document.getElementById('registrationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeRegistrationModal();
            }
        });

        // Navigation
        document.addEventListener('DOMContentLoaded', function () {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', function () {
                mobileMenu.classList.toggle('hidden');
            });

            // Close mobile menu when clicking on a link
            const mobileLinks = mobileMenu.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', function () {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function (event) {
                if (!mobileMenuButton.contains(event.target) && !mobileMenu.contains(event.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        // Auto-update copyright year
        document.getElementById('copyright-year').textContent = new Date().getFullYear();

        // Kurslarga o'tish
        function scrollToCourses() {
            document.getElementById('courses').scrollIntoView({ behavior: 'smooth' });
        }

        function scrollToForm() {
            scrollToCourses();
        }

        // Keyboard navigation for modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeRegistrationModal();
            }
        });
    </script>
</body>
</html>